<mat-toolbar color="primary" class="main-toolbar">
  <div class="toolbar-content">
    <div class="logo-section" routerLink="/">
      <img src="assets/logo.png" alt="Logo" class="logo">
      <h1>Venta de Autos y Motos</h1>
    </div>

    <div class="nav-section">
      <button mat-button routerLink="/" routerLinkActive="active">Inicio</button>
      <button mat-button (click)="checkAuthAndNavigate('/cars')" [class.locked]="!isLoggedIn" routerLinkActive="active">
        Autos
        <mat-icon *ngIf="!isLoggedIn" class="lock-icon">lock</mat-icon>
      </button>
      <button mat-button (click)="checkAuthAndNavigate('/motorcycles')" [class.locked]="!isLoggedIn" routerLinkActive="active">
        Motos
        <mat-icon *ngIf="!isLoggedIn" class="lock-icon">lock</mat-icon>
      </button>
      <button mat-button (click)="checkAuthAndNavigate('/search')" [class.locked]="!isLoggedIn" routerLinkActive="active">
        Búsqueda
        <mat-icon *ngIf="!isLoggedIn" class="lock-icon">lock</mat-icon>
      </button>
      <button mat-button routerLink="/contact" routerLinkActive="active">Contacto</button>
    </div>

    <div class="auth-section">
      <ng-container *ngIf="isLoggedIn; else notLoggedIn">
        <button mat-button [matMenuTriggerFor]="userMenu">
          <mat-icon>account_circle</mat-icon>
          {{ username }}
        </button>
        <mat-menu #userMenu="matMenu">
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            Cerrar Sesión
          </button>
        </mat-menu>
      </ng-container>

      <ng-template #notLoggedIn>
        <button mat-button routerLink="/login">Iniciar Sesión</button>
        <button mat-raised-button routerLink="/register">Registrarse</button>
      </ng-template>
    </div>
  </div>
</mat-toolbar>

<main class="main-content">
  <router-outlet></router-outlet>
</main>

<footer class="main-footer">
  <div class="footer-pattern"></div>
  <div class="footer-content">
    <p>&copy; 2023 Venta de Autos y Motos. Todos los derechos reservados.</p>
    <div class="social-links">
      <a href="#"><mat-icon>facebook</mat-icon></a>
      <a href="#"><mat-icon>twitter</mat-icon></a>
      <a href="#"><mat-icon>instagram</mat-icon></a>
    </div>
  </div>
</footer>
