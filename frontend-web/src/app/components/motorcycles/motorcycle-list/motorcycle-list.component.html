<!-- motorcycle-list.component.html -->
<div class="motorcycles-gallery-container">
  <!-- Hero Section -->
  <div class="gallery-hero">
    <div class="hero-overlay">
      <h1>Galería de Motos Exclusivas</h1>
      <p>Descubre nuestra colección premium de motocicletas</p>

      <!-- Search Bar -->
      <div class="hero-search-container">
        <div class="search-box">
          <mat-icon class="search-icon">search</mat-icon>
          <input
            type="text"
            placeholder="Buscar por marca, modelo, año..."
            [(ngModel)]="searchTerm"
            (input)="filterMotorcycles()"
            class="search-input">
          <button mat-raised-button color="accent" class="search-btn" (click)="filterMotorcycles()">
            Buscar
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Results Count -->
  <div class="results-count">
    <p *ngIf="!isLoading">
      {{ filteredMotorcycles.length }} motos disponibles en nuestra flota
    </p>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando nuestra colección exclusiva...</p>
  </div>

  <!-- No Results -->
  <div *ngIf="!isLoading && filteredMotorcycles.length === 0" class="no-results">
    <mat-icon>two_wheeler</mat-icon>
    <h3>No se encontraron motocicletas</h3>
    <p>Intenta con otros términos de búsqueda</p>
    <button mat-raised-button color="primary" (click)="clearSearch()">Mostrar todas</button>
  </div>

  <!-- Motorcycles Grid -->
  <div *ngIf="!isLoading && filteredMotorcycles.length > 0" class="exclusive-motorcycles-grid">
    <div
      *ngFor="let motorcycle of filteredMotorcycles"
      class="exclusive-motorcycle-card"
      (click)="viewMotorcycleDetails(motorcycle.id)">

      <div class="motorcycle-image-container">
        <img
          [src]="motorcycle.image_url || getRandomMotorcycleImage()"
          [alt]="motorcycle.title"
          class="motorcycle-image"
          (error)="motorcycle.image_url = getRandomMotorcycleImage()">

        <div class="motorcycle-badge" [class.sold]="motorcycle.is_sold">
          {{ motorcycle.is_sold ? 'Vendido' : 'Disponible' }}
        </div>

        <div class="motorcycle-overlay">
          <button mat-icon-button class="view-details-btn">
            <mat-icon>visibility</mat-icon>
            Ver Detalles
          </button>
        </div>
      </div>

      <div class="motorcycle-content">
        <h3 class="motorcycle-title">{{ motorcycle.brand }} {{ motorcycle.model }}</h3>
        <p class="motorcycle-year">{{ motorcycle.year }} • {{ getCategoryLabel(motorcycle.category) }}</p>

        <div class="motorcycle-specs">
          <div class="spec-item">
            <mat-icon>speed</mat-icon>
            <span>{{ formatNumber(motorcycle.mileage) }} km</span>
          </div>
          <div class="spec-item">
            <mat-icon>local_gas_station</mat-icon>
            <span>{{ motorcycle.fuel_type }}</span>
          </div>
          <div class="spec-item">
            <mat-icon>color_lens</mat-icon>
            <span>{{ motorcycle.color }}</span>
          </div>
        </div>

        <div class="motorcycle-price">
          <span class="price-amount">${{ formatNumber(motorcycle.price) }}</span>
          <span class="price-label">Precio especial</span>
        </div>

        <button mat-button class="inquiry-btn">
          <mat-icon>two_wheeler</mat-icon>
          Solicitar Prueba de Manejo
        </button>
      </div>
    </div>
  </div>
</div>
