<div class="discounts-container">
  <!-- Hero Section -->
  <div class="discount-hero">
    <div class="hero-overlay">
      <h1>Ofertas Especiales</h1>
      <p>Descuentos exclusivos en vehículos seleccionados</p>
    </div>
  </div>

  <!-- Results Count -->
  <div class="results-count">
    <p *ngIf="!isLoading">
      {{ discountVehicles.length }} ofertas especiales disponibles
    </p>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando ofertas especiales...</p>
  </div>

  <!-- No Results -->
  <div *ngIf="!isLoading && discountVehicles.length === 0" class="no-results">
    <mat-icon>local_offer</mat-icon>
    <h3>No hay descuentos disponibles</h3>
    <p>Vuelve pronto para descubrir nuestras próximas ofertas</p>
    <button mat-raised-button color="primary" routerLink="/">Volver al inicio</button>
  </div>

  <!-- Discount Vehicles Grid -->
  <div *ngIf="!isLoading && discountVehicles.length > 0" class="discount-vehicles-grid">
    <div
      *ngFor="let vehicle of discountVehicles"
      class="discount-vehicle-card"
      (click)="viewVehicleDetails(vehicle)">

      <div class="discount-badge">
        <span>-{{ vehicle.discount_percentage }}%</span>
      </div>

      <div class="vehicle-image-container">
        <img
          [src]="vehicle.image_url || (vehicle.type === 'car' ? 'assets/images/car-placeholder.jpg' : 'assets/images/motorcycle-placeholder.jpg')"
          [alt]="vehicle.title"
          class="vehicle-image">
      </div>

      <div class="vehicle-content">
        <h3 class="vehicle-title">{{ vehicle.brand }} {{ vehicle.model }}</h3>
        <p class="vehicle-year">{{ vehicle.year }}</p>

        <div class="price-container">
          <div class="original-price">${{ formatNumber(vehicle.original_price) }}</div>
          <div class="new-price">${{ formatNumber(vehicle.new_price) }}</div>
          <div class="savings">Ahorras ${{ formatNumber(calculateSavings(vehicle.original_price, vehicle.new_price)) }}</div>
        </div>

        <button mat-button class="view-details-btn">
          <mat-icon>{{ vehicle.type === 'car' ? 'car_rental' : 'two_wheeler' }}</mat-icon>
          Ver Oferta
        </button>
      </div>
    </div>
  </div>
</div>
